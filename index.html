<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Diet Plan, MUSCLE MAFIA GYM KAHUTA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#eef2f7;
      --bg2:#dce4ee;
      --panel:#ffffff;
      --card:#f9fbfd;
      --line:#cbd4df;
      --ink:#222;
      --ink-soft:#555;

      --red:#e63946;     /* brand red */
      --slate:#2c3e50;   /* deep slate */
    }

    html,body{height:100%;}
    body{
      margin:0;
      font-family:'Montserrat',sans-serif;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      color:var(--ink);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    main#printable{max-width:1080px;margin:28px auto;padding:18px;}
    .page-frame{padding:16px;border-radius:16px;background:var(--panel);border:1px solid var(--line);box-shadow:0 12px 28px rgba(0,0,0,.12);}
    .container{background:var(--card);border-radius:14px;padding:20px;}

    /* header */
    header{
      position:relative;
      padding:20px 20px 20px 120px;
      border-bottom:3px solid var(--red);
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .logo-box{
      position:absolute;
      left:18px;top:50%;transform:translateY(-50%);
      background:#2c3e50;
      padding:8px;border-radius:10px;
    }
    .logo-box img{height:70px;display:block;}

    .brand-name{
      font-family:'Bebas Neue',sans-serif;
      font-size:44px;letter-spacing:1px;margin:0;color:var(--slate);
      line-height:1;
    }
    .brand-name .accent{color:var(--red);}
    .tagline{margin:0;font-weight:600;font-size:14px;color:var(--red);letter-spacing:.4px;}
    .nutri-banner{
      padding:8px 12px;background:var(--slate);color:#fff;font-size:14px;font-weight:600;border-radius:6px;display:inline-block;
      -webkit-print-color-adjust: exact; print-color-adjust: exact;
    }
    .nutri-banner span{font-weight:700;color:#ffe082;}
    .nutri-banner .phone{margin-left:12px;font-style:italic;font-weight:500;color:#f9dede;}

    /* info and controls */
    .info-grid{
      display:grid;
      grid-template-columns:repeat(2,minmax(220px,1fr));
      gap:14px 22px;
      margin:20px 0;
    }
    .field label{display:block;margin-bottom:6px;font-weight:600;color:var(--ink-soft);}
    .field input, .field select{
      width:100%;
      padding:10px 12px;border-radius:8px;border:1px solid var(--line);background:#fff;color:var(--ink);
    }

    .toolbar{
      display:flex;gap:10px;flex-wrap:wrap;margin:4px 0 16px;
    }
    .btn{
      background:#fff;color:var(--ink);
      border:1px solid var(--line);
      padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:800;
    }
    .btn.primary{background:var(--red);color:#fff;border:none;}
    .btn.icon{display:inline-flex;align-items:center;gap:8px;}
    .btn .plus{font-weight:900;font-size:16px}

    /* sections */
    .section{margin:18px 0 24px;border:1px solid var(--line);border-radius:10px;overflow:hidden;background:#fff;}
    .section-header{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:10px 14px;color:#fff;flex-wrap:wrap;
      -webkit-print-color-adjust: exact; print-color-adjust: exact;
    }
    .section-title[contenteditable="true"]{
      outline:none;border-bottom:1px dashed rgba(255,255,255,.45);
    }
    .section-header h3{margin:0;font-size:18px;}
    .add-btn{
      background:#fff;color:var(--ink);
      border:1px solid var(--line);
      padding:8px 14px;border-radius:8px;cursor:pointer;font-weight:700;
    }
    .header-red .section-header{background:var(--red);}
    .header-slate .section-header{background:var(--slate);}

    /* table responsive wrapper */
    .table-wrap{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;background:#fff;}
    table{width:100%;border-collapse:collapse;font-size:14px;min-width:860px;}
    th,td{padding:10px;text-align:center;border-bottom:1px solid var(--line);white-space:nowrap;}
    th{background:#f2f5f8;color:var(--slate);}
    .totals{margin:10px;padding:10px;text-align:center;font-weight:600;background:#f4f6f9;border-radius:6px;}

    /* controls inside rows */
    select, input[type="number"], input[type="text"].custom-name, input[type="number"].custom-macro{
      width:100%;padding:10px;border:1px solid var(--line);border-radius:8px;background:#fff;color:var(--ink);
    }
    .custom-controls{display:none;gap:6px;align-items:center;}
    .custom-controls input{padding:8px;}

    .remove-btn{
      background:#e74c3c;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:700;
    }

    .summary{padding:16px;border:1px solid var(--line);border-radius:8px;background:#f4f6f9;}
    .summary h3{margin:0 0 8px;}
    .controls{margin-top:10px;}
    .print-btn{background:var(--red);color:#fff;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;font-weight:800;}

    /* print only planner, keep colors */
    @page{size:A4;margin:10mm;}
    @media print{
      *{-webkit-print-color-adjust: exact; print-color-adjust: exact;}
      body *{visibility:hidden;}
      #printable,#printable *{visibility:visible;}
      #printable{position:absolute;left:0;top:0;width:190mm;}
      .add-btn,.remove-btn,.btn{display:none !important;}
      .table-wrap{overflow:visible;}
    }

    /* mobile tweaks */
    @media (max-width: 900px){
      .info-grid{grid-template-columns:1fr;gap:12px;}
    }
    @media (max-width: 768px){
      main#printable{padding:12px;margin:16px auto;}
      .page-frame{padding:12px;border-radius:14px;}
      .container{padding:14px;border-radius:12px;}

      header{padding:16px 14px 14px 14px;}
      .logo-box{position:relative;left:0;top:0;transform:none;margin-bottom:10px;display:inline-block;}
      .logo-box img{height:60px;}
      .brand-name{font-size:36px;}
      .tagline{font-size:13px;}
      .nutri-banner{font-size:13px;}

      .section{margin:14px 0 18px;}
      .section-header h3{font-size:17px;}
      .add-btn{width:100%;}

      table{font-size:13px;min-width:780px;}
      th,td{padding:8px;}
      select, input[type="number"], .custom-name, .custom-macro{padding:9px;font-size:14px;}
      .remove-btn{width:100%;}
    }
    @media (max-width: 420px){
      .brand-name{font-size:30px;}
      .nutri-banner{display:block;}
      table{min-width:640px;}
    }
  </style>
</head>
<body>

<main id="printable">
  <div class="page-frame">
    <div class="container">

      <header>
        <div class="logo-box">
          <!-- change to your repo image name if needed -->
          <img src="gym_logo.png" alt="Logo">
        </div>
        <h1 class="brand-name"><span class="accent">MUSCLE MAFIA</span> GYM KAHUTA</h1>
        <p class="tagline">"Fuel your body, power your mind, transform your life"</p>
        <div class="nutri-banner">
          <span>Nutrition Specialist:</span> Abdul Nabeel Saqbi
          <span class="phone">ðŸ“ž +92 349 8948105</span>
        </div>
      </header>

      <!-- Info -->
      <div class="info-grid">
        <div class="field"><label>Student Name</label><input id="studentName" type="text" placeholder="Enter student name"></div>
        <div class="field"><label>Date</label><input id="planDate" type="date"></div>
        <div class="field"><label>Weight, kg</label><input id="weight" type="number" inputmode="decimal" placeholder="70"></div>
        <div class="field"><label>Height, cm</label><input id="height" type="number" inputmode="decimal" placeholder="175"></div>
        <div class="field"><label>Age</label><input id="age" type="number" inputmode="numeric" placeholder="25"></div>
      </div>

      <div class="toolbar">
        <button class="btn icon primary" onclick="addMealCard()"><span class="plus">+</span> Add meal</button>
        <button class="btn" onclick="window.print()">Print or Save</button>
      </div>

      <!-- Initial meals get injected here -->
      <div id="meals"></div>

      <div class="summary">
        <h3>Daily Nutrition Summary</h3>
        <p id="daily-summary">Calories 0 kcal, Protein 0 g, Fat 0 g, Carbs 0 g, Fiber 0 g</p>
      </div>

    </div>
  </div>
</main>

<script>
  /* Nutrition database, macros per serving
     names are clean, amounts are in Serving, Qty multiplies them
  */
  const DB = {
    // grains, dairy, protein
    "Oats":[ s("100 g",389,16.9,6.9,66.3,10.6), s("50 g",195,8.5,3.5,33.2,5.3) ],
    "Whey Protein":[ s("1 scoop, 30 g",120,24,2,3,1) ],
    "Eggs, Whole":[ s("1 pc",72,6.3,4.8,0.4,0) ],
    "Egg Whites":[ s("1 pc",17,3.6,0,0.2,0) ],
    "Milk":[ s("250 ml",155,8,8,12,0) ],
    "Yogurt, Plain":[ s("200 g",122,7,6,9,0) ],
    "Greek Yogurt":[ s("170 g",100,17,0,6,0) ],
    "Paneer":[ s("100 g",296,18,22,4,0) ],
    "Chicken Breast":[ s("100 g cooked",165,31,3.6,0,0) ],
    "Chicken Thigh":[ s("100 g cooked",209,26,10.9,0,0) ],
    "Beef, Lean":[ s("100 g cooked",250,26,15,0,0) ],
    "Mutton":[ s("100 g cooked",294,25,21,0,0) ],
    "Fish, Rohu":[ s("100 g",97,18,3,0,0) ],
    "Fish, Salmon":[ s("100 g",208,20,13,0,0) ],
    "Tuna, Canned":[ s("100 g",132,29,1,0,0) ],
    "Chapati":[ s("1 pc",120,3.6,3,18,2) ],
    "Roti, Whole Wheat":[ s("1 pc",120,3.6,3,18,2) ],
    "Paratha":[ s("1 pc",260,5,14,28,2) ],
    "White Rice":[ s("1 cup cooked, 150 g",205,4.2,0.4,45,0.6) ],
    "Brown Rice":[ s("1 cup cooked, 150 g",216,5,1.8,45,3.5) ],
    "Quinoa":[ s("1 cup cooked, 185 g",222,8,3.6,39,5) ],
    "Boiled Rice":[ s("1 cup cooked, 150 g",205,4.2,0.4,45,0.6) ],

    // legumes
    "Dal, Masoor":[ s("1 cup cooked",230,18,0.8,40,15) ],
    "Dal, Moong":[ s("1 cup cooked",212,14,0.8,38,15) ],
    "Dal, Chana":[ s("1 cup cooked",269,15,4,45,12) ],
    "Chickpeas, Boiled":[ s("1 cup cooked",269,15,4,45,12) ],
    "Rajma, Kidney Beans":[ s("1 cup cooked",225,15,0.9,40,11) ],
    "Lobia, Black eyed beans":[ s("1 cup cooked",200,13,0.7,35,11) ],

    // nuts and seeds
    "Almonds":[ s("30 g",173,6,15,6,3.5) ],
    "Walnuts":[ s("30 g",185,4.3,18.5,4,2) ],
    "Cashews":[ s("30 g",155,5,12,9,1) ],
    "Pistachios":[ s("30 g",159,6,13,8,3) ],
    "Peanuts":[ s("30 g",170,7,14,5,2) ],
    "Peanut Butter":[ s("1 tbsp, 16 g",94,4,8,3,1) ],
    "Chia Seeds":[ s("1 tbsp, 12 g",58,2,4,5,5) ],
    "Flaxseed":[ s("1 tbsp, 10 g",55,1.9,4.3,3,2.8) ],
    "Pumpkin Seeds":[ s("30 g",170,9,14,5,2) ],
    "Watermelon Seeds":[ s("30 g",170,8,13,4,0) ],
    "Basil Seeds":[ s("1 tbsp, 12 g",58,2,3,5,5) ],  // approx

    // fruits and veg
    "Banana":[ s("1 medium",105,1.3,0.3,27,3.1) ],
    "Apple":[ s("1 medium",95,0.5,0.3,25,4.4) ],
    "Orange":[ s("1 medium",62,1.2,0.2,15,3) ],
    "Mango":[ s("1 cup, 165 g",99,1.4,0.6,25,2.6) ],
    "Berries, Mixed":[ s("1 cup, 148 g",84,1,0.5,21,3.6) ],
    "Dates":[ s("1 pc",22,0.2,0,6,0.6) ],
    "Figs, Dried":[ s("1 pc",47,0.6,0.2,12,1.6) ],
    "Raisins":[ s("30 g",90,1,0,24,1) ],
    "Beetroot":[ s("100 g",43,1.6,0.2,10,2.8) ],
    "Cucumber":[ s("100 g",15,0.7,0.1,3.6,0.5) ],
    "Carrot":[ s("100 g",41,0.9,0.2,10,2.8) ],
    "Palak, Spinach":[ s("1 cup cooked, 180 g",41,5.3,0.5,7,4) ],
    "Bhindi, Okra":[ s("1 cup cooked, 160 g",190,5,10,22,8) ],
    "Cabbage":[ s("1 cup cooked, 150 g",33,2,0.2,8,4) ],
    "Cauliflower":[ s("1 cup cooked, 150 g",30,2.3,0.6,5,3) ],
    "Lemon":[ s("1 medium",17,0.6,0.2,5.4,1.6) ],

    // drinks and extras
    "Apple Juice":[ s("250 ml",114,0,0,28,0.2) ],
    "Orange Juice":[ s("250 ml",112,2,0.5,26,0.5) ],
    "Coffee":[ s("240 ml",2,0.3,0,0,0) ],
    "Green Tea":[ s("240 ml",2,0,0,0,0) ],
    "Honey":[ s("1 tbsp, 21 g",64,0,0,17,0) ],
    "Jaggery":[ s("1 tsp, 7 g",26,0,0,6.7,0) ],
    "Ghee":[ s("1 tbsp, 14 g",123,0,14,0,0) ],
    "Olive Oil":[ s("1 tbsp, 14 g",119,0,14,0,0) ],
    "Gond Katera":[ s("1 tsp",30,0,0,7,0) ],

    "Custom":[ s("per serving",0,0,0,0,0) ]
  };
  function s(serving, cal, pro, fat, carb, fiber){ return { serving, cal, pro, fat, carb, fiber }; }
  const QTY_OPTIONS = [1,2,3,4,5,6,8,10];

  /* Add initial four meals and allow adding more */
  const mealsRoot = document.getElementById("meals");
  let mealCount = 0;
  const headerColors = ["header-red","header-slate"]; // alternate

  function addMealCard(title="Morning Drink"){
    const colorClass = headerColors[mealCount % headerColors.length];
    const idBase = `meal${Date.now()}_${Math.floor(Math.random()*10000)}`;
    const tableId = `${idBase}-table`;
    const totalId = `${idBase}-total`;

    const section = document.createElement("section");
    section.className = `section ${colorClass}`;
    section.innerHTML = `
      <div class="section-header">
        <h3 class="section-title" contenteditable="true">${title}</h3>
        <button class="add-btn" onclick="addRow('${tableId}')">+ Add item</button>
      </div>
      <div class="table-wrap">
        <table id="${tableId}">
          <tr>
            <th>Item</th><th>Serving</th><th>Qty</th>
            <th>Calories</th><th>Protein</th><th>Fat</th><th>Carbs</th><th>Fiber</th>
            <th>Action</th>
          </tr>
        </table>
      </div>
      <div class="totals" id="${totalId}"></div>
    `;
    mealsRoot.appendChild(section);
    addRow(tableId);
    mealCount++;
  }

  function addRow(tableId){
    const t = document.getElementById(tableId);
    const r = t.insertRow(-1);
    const itemOptions = Object.keys(DB).map(name => `<option value="${name}">${name}</option>`).join("");

    r.innerHTML = `
      <td>
        <select class="item" onchange="onItemChange(this)">${itemOptions}</select>
        <div class="custom-controls">
          <input type="text" class="custom-name" placeholder="Custom item name">
          <input type="number" step="0.1" class="custom-cal custom-macro" placeholder="kcal">
          <input type="number" step="0.1" class="custom-pro custom-macro" placeholder="P g">
          <input type="number" step="0.1" class="custom-fat custom-macro" placeholder="F g">
          <input type="number" step="0.1" class="custom-carb custom-macro" placeholder="C g">
          <input type="number" step="0.1" class="custom-fiber custom-macro" placeholder="Fi g">
        </div>
      </td>
      <td><select class="serving" onchange="recalcRow(this)"></select></td>
      <td><select class="qty" onchange="recalcRow(this)">${QTY_OPTIONS.map(q=>`<option value="${q}">${q}</option>`).join("")}</select></td>
      <td class="cal">0</td>
      <td class="pro">0</td>
      <td class="fat">0</td>
      <td class="carb">0</td>
      <td class="fiber">0</td>
      <td><button class="remove-btn" onclick="removeRow(this)">Remove</button></td>
    `;
    onItemChange(r.querySelector(".item"), true);
  }

  function onItemChange(sel, firstInit=false){
    const row = sel.closest("tr");
    const servingSelect = row.querySelector(".serving");
    const customBox = row.querySelector(".custom-controls");
    const item = sel.value;
    servingSelect.innerHTML = "";

    if(item === "Custom"){
      customBox.style.display = "grid";
      customBox.style.gridTemplateColumns = "1.5fr repeat(5, 1fr)";
      customBox.style.marginTop = "6px";
      servingSelect.innerHTML = `<option value="per serving">per serving</option>`;
      ["custom-name","custom-cal","custom-pro","custom-fat","custom-carb","custom-fiber"].forEach(cls=>{
        row.querySelector("."+cls).addEventListener("input", ()=>recalcRow(servingSelect));
      });
    }else{
      customBox.style.display = "none";
      DB[item].forEach(sv=>{
        const opt = document.createElement("option");
        opt.value = sv.serving;
        opt.textContent = sv.serving;
        servingSelect.appendChild(opt);
      });
    }
    recalcRow(servingSelect);
  }

  function getMacros(item, serving, row){
    if(item === "Custom"){
      const cal  = parseFloat(row.querySelector(".custom-cal").value)   || 0;
      const pro  = parseFloat(row.querySelector(".custom-pro").value)   || 0;
      const fat  = parseFloat(row.querySelector(".custom-fat").value)   || 0;
      const carb = parseFloat(row.querySelector(".custom-carb").value)  || 0;
      const fiber= parseFloat(row.querySelector(".custom-fiber").value) || 0;
      return {cal,pro,fat,carb,fiber};
    }
    const list = DB[item] || [];
    const found = list.find(x => x.serving === serving) || list[0] || s("serving",0,0,0,0,0);
    return found;
  }

  function recalcRow(el){
    const row = el.closest("tr");
    const item = row.querySelector(".item").value;
    const serving = row.querySelector(".serving").value;
    const qty = parseFloat(row.querySelector(".qty").value) || 1;

    const base = getMacros(item, serving, row);
    const cal  = round1(base.cal  * qty);
    const pro  = round1(base.pro  * qty);
    const fat  = round1(base.fat  * qty);
    const carb = round1(base.carb * qty);
    const fiber= round1(base.fiber* qty);

    row.querySelector(".cal").textContent   = cal;
    row.querySelector(".pro").textContent   = pro;
    row.querySelector(".fat").textContent   = fat;
    row.querySelector(".carb").textContent  = carb;
    row.querySelector(".fiber").textContent = fiber;

    updateTotals();
  }

  function round1(n){ return Math.round(n * 10) / 10; }

  function removeRow(btn){
    const table = btn.closest("table");
    btn.closest("tr").remove();
    updateTotals();
    // if only header left, keep it, user can add again
  }

  function updateTotals(){
    let day = {cal:0,pro:0,fat:0,carb:0,fiber:0};
    const tables = Array.from(document.querySelectorAll("#meals table"));

    tables.forEach(table=>{
      let meal = {cal:0,pro:0,fat:0,carb:0,fiber:0};
      for(let i=1;i<table.rows.length;i++){
        const row = table.rows[i];
        meal.cal   += parseFloat(row.querySelector(".cal").textContent)   || 0;
        meal.pro   += parseFloat(row.querySelector(".pro").textContent)   || 0;
        meal.fat   += parseFloat(row.querySelector(".fat").textContent)   || 0;
        meal.carb  += parseFloat(row.querySelector(".carb").textContent)  || 0;
        meal.fiber += parseFloat(row.querySelector(".fiber").textContent) || 0;
      }
      const totalId = table.id.replace("table","total");
      const out = `Total ${round1(meal.cal)} kcal, ${round1(meal.pro)} g protein, ${round1(meal.fat)} g fat, ${round1(meal.carb)} g carbs, ${round1(meal.fiber)} g fiber`;
      const tgt = document.getElementById(totalId);
      if(tgt) tgt.innerText = out;

      day.cal += meal.cal; day.pro += meal.pro; day.fat += meal.fat; day.carb += meal.carb; day.fiber += meal.fiber;
    });

    document.getElementById("daily-summary").innerText =
      `Calories ${round1(day.cal)} kcal, Protein ${round1(day.pro)} g, Fat ${round1(day.fat)} g, Carbs ${round1(day.carb)} g, Fiber ${round1(day.fiber)} g`;
  }

  // seed four common meals
  document.getElementById("planDate").value = new Date().toISOString().split("T")[0];
  addMealCard("Morning Drink");
  addMealCard("Breakfast");
  addMealCard("Lunch");
  addMealCard("Dinner");
</script>
</body>
</html>
